---
title: "Sterling - Race and ethnicity"
author: "NDP"
date: '2022-06-10'
output: html_document
---
---
title: "loudoun research 2.0"
author: "NDP"
date: '2022-06-09'
output: html_document
---

```{r set_up_API, }
readRenviron("~/.Renviron") #readin Census API key
Sys.getenv("CENSUS_API_KEY") #confirm you have read in your Census API key
```

```{r}
library(tidycensus)
# Set a year of interest
this.year = 2020

# This looks at the 5 year estimates
# You can also do "acs1"
vars <- load_variables(year = 2019,
                      dataset = "acs5",
                      cache = TRUE)
```

# Sterling Race and Ethnicity Demographic
```{r}
library(readxl)
library(dplyr)
library(ggplot2)
library(tidycensus)

sterling <- read_excel("sterlingdata.xlsx",skip=1,col_names=TRUE)
subset_sterlingRACE_Ethnicity <- sterling[c(67:72),c(1,6:7)]

Race_Ethnicity_estimate <- subset_sterlingRACE_Ethnicity$Estimate...6
as.numeric(gsub(",","",Race_Ethnicity_estimate))
Race_Ethnicity_estimate <-as.numeric(gsub(",","",Race_Ethnicity_estimate))
Race_Ethnicity_cat <- (subset_sterlingRACE_Ethnicity$Label)

ggplot(subset_sterlingRACE_Ethnicity,aes(x=Race_Ethnicity_cat,y=Race_Ethnicity_estimate,fill=Race_Ethnicity_cat))+geom_col()+theme(axis.text.x=element_blank(),axis.ticks.x=element_blank())+scale_x_discrete(limits=Race_Ethnicity_cat)+labs(title="Race & Ethnicity",caption= "Source: DP05 ACS data 2016-2020",x="",y="Population") + guides(fill = guide_legend(title = "Races"))
```
Here is a bar graph that displays the race population in Sterling,VA. The races include white, black or African American, American Indian, Asian, Native Hawaiian, and other races. As displayed in the chart, the white population makes up almost 60% of the Sterling population, or 18,138 out of the 30,271 people in Sterling. The Asian population has 5,313 members out of the 30,271 individuals in Sterling. The black or African American population makes up 10% of the Sterling population which represents 3,132 persons and the Native Hawaiian population is the smallest group of race, only making up less than one percent of the population, or 144 individuals, in Sterling. There are 4,570 persons who identify as a different race.

#Pie Chart visualizations ^ 
```{r}
# Sample Pie Chart
slices.Races <- c(59.9, 10.34, 1.4, 17.6, 0.5, 15.1)
lbls.Races <- c("White 59.9%", "Black 10.34%", "Am.Indian 1.4%", "Asian 17.6%","Hawaiian .5%","Other 15.1%")
pie(slices.Races, labels = lbls.Races, main="Percentage of Races", sub = "Source: DP05 ACS data 2016-2020")

library(plotly)

labelsR = c("White", "Black", "Am.Indian", "Asian","Hawaiian","Other")
valuesR = c(18138, 3132, 418, 5313, 144, 4570)

figR <- plot_ly(type='pie', labels=labelsR, values=valuesR, 
               textinfo='label+percent',
               insidetextorientation='radial') %>% layout(title ='Race & Ethnicity Percentage', legend=list(title=list(text='Race/Ethnicity')))

figR
```
Here is a pie chart that displays the race population in Sterling,VA. The races include white, black or African American, American Indian, Asian, Native Hawaiian, and other races. As displayed in the chart, the white population makes up almost 60% of the Sterling population, followed by the Asian population and then other races. The black or African American population makes up 10% of the Sterling population and the Native Hawaiian population is the smallest group of race, only making up less than one percent of the population in Sterling. 

#3D pie chart of hispanics in Sterling,VA
```{r}
library(plotly)

labelsH = c('Hispanic or Latino','Not Hispanic or Latino')
valuesH = c(12472, 17799)

figH <- plot_ly(type='pie', labels=labelsH, values=valuesH, 
               textinfo='label+percent',
               insidetextorientation='radial') %>% layout(title ='Hispanic Percentage', legend=list(title=list(text='Race/Ethnicity')))

figH

```
Here is a pie chart that displays the Hispanic population in Sterling,VA. Since Hispanic is not considered a race by the ACS source, it is included within the race population. That is why I have a separate chart for Hispanics. In total, the Hispanic population makes up 41.2% of Sterling,VA. That is a total of 12,472 out of the 30,271 people in the area. 58.8% of the Sterling population are non Hispanics. That means 17,799 do not identify as Hispanic or Latino. 

#Visualization Map of Whites in Sterling,VA
```{r}
knitr::opts_chunk$set(echo = TRUE)
#I load my packages as I use them so you can see what 
#they are used with.
library(dplyr)
library(tidycensus)
library(ggplot2)

readRenviron("~/.Renviron")
Sys.getenv("CENSUS_API_KEY")

blocks<-c("Block Group 1, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 2, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 3, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6113, Loudoun County, Virginia",
"Block Group 2, Census Tract 6113, Loudoun County, Virginia",
"Block Group 3, Census Tract 6113, Loudoun County, Virginia",
"Block Group 1, Census Tract 6114, Loudoun County, Virginia",
"Block Group 2, Census Tract 6114, Loudoun County, Virginia",
"Block Group 3, Census Tract 6114, Loudoun County, Virginia",
"Block Group 1, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.02, Loudoun County, Virginia")

vaWhite <- get_acs(geography = "block group",
                variables = c(White = "B02001_002"),
                state = "VA",
                year = 2020,
                geometry = TRUE) %>%
filter(NAME %in% blocks)

zapWhite <- ggplot(vaWhite$geometry) + geom_sf(aes(fill=vaWhite$estimate)) +
scale_color_viridis_c() + scale_fill_viridis_c()+
coord_sf(datum = NA) +
theme_minimal() +labs(fill = "white")

library(leaflet)
mypalW <- colorNumeric(
palette = "magma",
domain = vaWhite$estimate)
mypalW(c(10, 20, 30, 40, 50))

#specify the bin breaks
mybinsW <- c(0,600,1200,1800,2400,3000,3600)
#specify the default color
mypaletteW <- colorBin(palette="inferno", domain=vaWhite$estimate, na.color="transparent", bins=mybinsW)

leaflet(data = vaWhite) %>%
  addTiles() %>%
  addPolygons(
    fillColor = ~mypaletteW(vaWhite$`estimate`),
    stroke=TRUE,
    weight = 1,
    smoothFactor = 0.2,
    opacity = 1.0,
    fillOpacity = 0.7, 
    label=paste("County: ",vaWhite$GEOID, ", Value: ",vaWhite$estimate),
    highlightOptions = highlightOptions(color = "white",
                                        weight = 2,
                                        bringToFront = TRUE)) %>%
  addLegend(pal=mypaletteW, position = "bottomright",
            values = ~vaWhite$estimate,
            opacity = 0.5, title = "White Population") %>%
  addPolylines(data = vaWhite, color = "black", 
               opacity = 0.2, weight = 1)

```
Here is a map visualization of the white population in Sterling,VA. I used the 2020 census block map to map out Sterling, and from there, used the ACS data to locate the number of individuals in each block/area who identify as white.

#Visualization Map of Blacks in Sterling,VA
```{r}
knitr::opts_chunk$set(echo = TRUE)
#I load my packages as I use them so you can see what 
#they are used with.
library(dplyr)
library(tidycensus)
library(ggplot2)

readRenviron("~/.Renviron")
Sys.getenv("CENSUS_API_KEY")

blocks<-c("Block Group 1, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 2, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 3, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6113, Loudoun County, Virginia",
"Block Group 2, Census Tract 6113, Loudoun County, Virginia",
"Block Group 3, Census Tract 6113, Loudoun County, Virginia",
"Block Group 1, Census Tract 6114, Loudoun County, Virginia",
"Block Group 2, Census Tract 6114, Loudoun County, Virginia",
"Block Group 3, Census Tract 6114, Loudoun County, Virginia",
"Block Group 1, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.02, Loudoun County, Virginia")

vaBlack <- get_acs(geography = "block group",
                variables = c(Black = "B02001_003"),
                state = "VA",
                year = 2020,
                geometry = TRUE) %>%
filter(NAME %in% blocks)

zapBlack <- ggplot(vaBlack$geometry) + geom_sf(aes(fill=vaBlack$estimate)) +
scale_color_viridis_c() + scale_fill_viridis_c()+
coord_sf(datum = NA) +
theme_minimal() +labs(fill = "white")


library(leaflet)
mypalB <- colorNumeric(
palette = "magma",
domain = vaWhite$estimate)
mypalB(c(10, 20, 30, 40, 50))

#specify the bin breaks
mybinsB <- c(0,55,110,165,220,275,330,385)
#specify the default color
mypaletteB <- colorBin(palette="inferno", domain=vaBlack$estimate, na.color="transparent", bins=mybinsB)

leaflet(data = vaBlack) %>%
  addTiles() %>%
  addPolygons(
    fillColor = ~mypaletteB(vaBlack$`estimate`),
    stroke=TRUE,
    weight = 1,
    smoothFactor = 0.2,
    opacity = 1.0,
    fillOpacity = 0.7, 
    label=paste("County: ",vaBlack$GEOID, ", Value: ",vaBlack$estimate),
    highlightOptions = highlightOptions(color = "white",
                                        weight = 2,
                                        bringToFront = TRUE)) %>%
  addLegend(pal=mypaletteB, position = "bottomright",
            values = ~vaBlack$estimate,
            opacity = 0.5, title = "Black Population") %>%
  addPolylines(data = vaBlack, color = "black", 
               opacity = 0.2, weight = 1)

```
Here is a map visualization of the Black or African American population in Sterling,VA. I used the 2020 census block map to map out Sterling, and from there, used the ACS data to locate the number of individuals in each block/area who identify as Black or African American.

#Visualization Map of Asians in Sterling,VA
```{r}
knitr::opts_chunk$set(echo = TRUE)
#I load my packages as I use them so you can see what 
#they are used with.
library(dplyr)
library(tidycensus)
library(ggplot2)

readRenviron("~/.Renviron")
Sys.getenv("CENSUS_API_KEY")

blocks<-c("Block Group 1, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 2, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 3, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6113, Loudoun County, Virginia",
"Block Group 2, Census Tract 6113, Loudoun County, Virginia",
"Block Group 3, Census Tract 6113, Loudoun County, Virginia",
"Block Group 1, Census Tract 6114, Loudoun County, Virginia",
"Block Group 2, Census Tract 6114, Loudoun County, Virginia",
"Block Group 3, Census Tract 6114, Loudoun County, Virginia",
"Block Group 1, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.02, Loudoun County, Virginia")

vaAsian <- get_acs(geography = "block group",
                variables = c(Asian = "B02001_005"),
                state = "VA",
                year = 2020,
                geometry = TRUE) %>%
filter(NAME %in% blocks)

zapAsian <- ggplot(vaAsian$geometry) + geom_sf(aes(fill=vaAsian$estimate)) +
scale_color_viridis_c() + scale_fill_viridis_c()+
coord_sf(datum = NA) +
theme_minimal() +labs(fill = "white")


library(leaflet)
mypalA <- colorNumeric(
palette = "magma",
domain = vaAsian$estimate)
mypalA(c(10, 20, 30, 40, 50))

#specify the bin breaks
mybinsA <- c(0,200,400,600,800,1000,1200)
#specify the default color
mypaletteA <- colorBin(palette="inferno", domain=vaAsian$estimate, na.color="transparent", bins=mybinsA)

leaflet(data = vaAsian) %>%
  addTiles() %>%
  addPolygons(
    fillColor = ~mypaletteA(vaAsian$`estimate`),
    stroke=TRUE,
    weight = 1,
    smoothFactor = 0.2,
    opacity = 1.0,
    fillOpacity = 0.7, 
    label=paste("County: ",vaAsian$GEOID, ", Value: ",vaAsian$estimate),
    highlightOptions = highlightOptions(color = "white",
                                        weight = 2,
                                        bringToFront = TRUE)) %>%
  addLegend(pal=mypaletteA, position = "bottomright",
            values = ~vaAsian$estimate,
            opacity = 0.5, title = "Asian Population") %>%
  addPolylines(data = vaAsian, color = "black", 
               opacity = 0.2, weight = 1)
```
Here is a map visualization of the Asian population in Sterling,VA. I used the 2020 census block map to map out Sterling, and from there, used the ACS data to locate the number of individuals in each block/area who identify as Asian.

#Visualization Map of Am.Indians in Sterling,VA
```{r}
knitr::opts_chunk$set(echo = TRUE)
#I load my packages as I use them so you can see what 
#they are used with.
library(dplyr)
library(tidycensus)
library(ggplot2)

readRenviron("~/.Renviron")
Sys.getenv("CENSUS_API_KEY")

blocks<-c("Block Group 1, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 2, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 3, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6113, Loudoun County, Virginia",
"Block Group 2, Census Tract 6113, Loudoun County, Virginia",
"Block Group 3, Census Tract 6113, Loudoun County, Virginia",
"Block Group 1, Census Tract 6114, Loudoun County, Virginia",
"Block Group 2, Census Tract 6114, Loudoun County, Virginia",
"Block Group 3, Census Tract 6114, Loudoun County, Virginia",
"Block Group 1, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.02, Loudoun County, Virginia")

vaAm.Indian <- get_acs(geography = "block group",
                variables = c(Indian = "B02001_004"),
                state = "VA",
                year = 2020,
                geometry = TRUE) %>%
filter(NAME %in% blocks)

zapAm.Indian <- ggplot(vaAm.Indian$geometry) + geom_sf(aes(fill=vaAm.Indian$estimate)) +
scale_color_viridis_c() + scale_fill_viridis_c()+
coord_sf(datum = NA) +
theme_minimal() +labs(fill = "white")


library(leaflet)
mypalI <- colorNumeric(
palette = "magma",
domain = vaAm.Indian$estimate)
mypalI(c(10, 20, 30, 40, 50))

#specify the bin breaks
mybinsI <- c(0,10,20,30,40,50,60,70)
#specify the default color
mypaletteI <- colorBin(palette="inferno", domain=vaAm.Indian$estimate, na.color="transparent", bins=mybinsI)

leaflet(data = vaAm.Indian) %>%
  addTiles() %>%
  addPolygons(
    fillColor = ~mypaletteI(vaAm.Indian$`estimate`),
    stroke=TRUE,
    weight = 1,
    smoothFactor = 0.2,
    opacity = 1.0,
    fillOpacity = 0.7, 
    label=paste("County: ",vaAm.Indian$GEOID, ", Value: ",vaAm.Indian$estimate),
    highlightOptions = highlightOptions(color = "white",
                                        weight = 2,
                                        bringToFront = TRUE)) %>%
  addLegend(pal=mypaletteI, position = "bottomright",
            values = ~vaAm.Indian$estimate,
            opacity = 0.5, title = "Am. Indian Population") %>%
  addPolylines(data = vaAm.Indian, color = "black", 
               opacity = 0.2, weight = 1)
```
Here is a map visualization of the American Indian population in Sterling,VA. I used the 2020 census block map to map out Sterling, and from there, used the ACS data to locate the number of individuals in each block/area who identify as American Indian.

#Visualization Map of Hawaiians in Sterling,VA
```{r}
knitr::opts_chunk$set(echo = TRUE)
#I load my packages as I use them so you can see what 
#they are used with.
library(dplyr)
library(tidycensus)
library(ggplot2)

readRenviron("~/.Renviron")
Sys.getenv("CENSUS_API_KEY")

blocks<-c("Block Group 1, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 2, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 3, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6113, Loudoun County, Virginia",
"Block Group 2, Census Tract 6113, Loudoun County, Virginia",
"Block Group 3, Census Tract 6113, Loudoun County, Virginia",
"Block Group 1, Census Tract 6114, Loudoun County, Virginia",
"Block Group 2, Census Tract 6114, Loudoun County, Virginia",
"Block Group 3, Census Tract 6114, Loudoun County, Virginia",
"Block Group 1, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.02, Loudoun County, Virginia")

vaHawaiian <- get_acs(geography = "block group",
                variables = c(Hawaiian = "B02001_006"),
                state = "VA",
                year = 2020,
                geometry = TRUE) %>%
filter(NAME %in% blocks)

zapHawaiian <- ggplot(vaHawaiian$geometry) + geom_sf(aes(fill=vaHawaiian$estimate)) +
scale_color_viridis_c() + scale_fill_viridis_c()+
coord_sf(datum = NA) +
theme_minimal() +labs(fill = "white")


library(leaflet)
mypalH <- colorNumeric(
palette = "magma",
domain = vaHawaiian$estimate)
mypalH(c(10, 20, 30, 40, 50))

#specify the bin breaks
mybinsH <- c(0,30,60,90,120,150,180)
#specify the default color
mypaletteH <- colorBin(palette="inferno", domain=vaHawaiian$estimate, na.color="transparent", bins=mybinsH)

leaflet(data = vaHawaiian) %>%
  addTiles() %>%
  addPolygons(
    fillColor = ~mypaletteH(vaHawaiian$`estimate`),
    stroke=TRUE,
    weight = 1,
    smoothFactor = 0.2,
    opacity = 1.0,
    fillOpacity = 0.7, 
    label=paste("County: ",vaHawaiian$GEOID, ", Value: ",vaHawaiian$estimate),
    highlightOptions = highlightOptions(color = "white",
                                        weight = 2,
                                        bringToFront = TRUE)) %>%
  addLegend(pal=mypaletteH, position = "bottomright",
            values = ~vaHawaiian$estimate,
            opacity = 0.5, title = "Hawaiian Population") %>%
  addPolylines(data = vaHawaiian, color = "black", 
               opacity = 0.2, weight = 1)
```
Here is a map visualization of the Native Hawaiian population in Sterling,VA. I used the 2020 census block map to map out Sterling, and from there, used the ACS data to locate the number of individuals in each block/area who identify as Native Hawaiian.

#Visualization Map of Hispanics in Sterling,VA
```{r}
knitr::opts_chunk$set(echo = TRUE)
#I load my packages as I use them so you can see what 
#they are used with.
library(dplyr)
library(tidycensus)
library(ggplot2)

readRenviron("~/.Renviron")
Sys.getenv("CENSUS_API_KEY")

blocks<-c("Block Group 1, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.05, Loudoun County, Virginia",
"Block Group 2, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.04, Loudoun County, Virginia",
"Block Group 2, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 3, Census Tract 6115.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6113, Loudoun County, Virginia",
"Block Group 2, Census Tract 6113, Loudoun County, Virginia",
"Block Group 3, Census Tract 6113, Loudoun County, Virginia",
"Block Group 1, Census Tract 6114, Loudoun County, Virginia",
"Block Group 2, Census Tract 6114, Loudoun County, Virginia",
"Block Group 3, Census Tract 6114, Loudoun County, Virginia",
"Block Group 1, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6117.01, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.02, Loudoun County, Virginia",
"Block Group 1, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 2, Census Tract 6116.01, Loudoun County, Virginia",
"Block Group 3, Census Tract 6112.02, Loudoun County, Virginia")

vaHispanic <- get_acs(geography = "block group",
                variables = c(Hispanic = "B03002_012"),
                state = "VA",
                year = 2020,
                geometry = TRUE) %>%
filter(NAME %in% blocks)

zapHispanic <- ggplot(vaHispanic$geometry) + geom_sf(aes(fill=vaHispanic$estimate)) +
scale_color_viridis_c() + scale_fill_viridis_c()+
coord_sf(datum = NA) +
theme_minimal() +labs(fill = "white")


library(leaflet)
mypalHP <- colorNumeric(
palette = "magma",
domain = vaHispanic$estimate)
mypalHP(c(10, 20, 30, 40, 50))

#specify the bin breaks
mybinsHP <- c(0,300,600,900,1200,1500,1800,2100)
#specify the default color
mypaletteHP <- colorBin(palette="inferno", domain=vaHispanic$estimate, na.color="transparent", bins=mybinsHP)

leaflet(data = vaHispanic) %>%
  addTiles() %>%
  addPolygons(
    fillColor = ~mypaletteHP(vaHispanic$`estimate`),
    stroke=TRUE,
    weight = 1,
    smoothFactor = 0.2,
    opacity = 1.0,
    fillOpacity = 0.7, 
    label=paste("County: ",vaHispanic$GEOID, ", Value: ",vaHispanic$estimate),
    highlightOptions = highlightOptions(color = "white",
                                        weight = 2,
                                        bringToFront = TRUE)) %>%
  addLegend(pal=mypaletteHP, position = "bottomright",
            values = ~vaHispanic$estimate,
            opacity = 0.5, title = "Hispanic Population") %>%
  addPolylines(data = vaHispanic, color = "black", 
               opacity = 0.2, weight = 1)
```
Here is a map visualization of the Hispanic or Latino population in Sterling,VA. I used the 2020 census block map to map out Sterling, and from there, used the ACS data to locate the number of individuals in each block/area who identify as Hispanic or Latino.
